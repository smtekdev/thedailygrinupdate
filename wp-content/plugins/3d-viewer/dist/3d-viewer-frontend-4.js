(()=>{"use strict";var e={502:(e,t,r)=>{r.d(t,{Z:()=>E});var n=r(174),a=r.n(n);const o=e=>{let{attributes:t}=e;const{styles:r,uniqueId:a,woo:o,progressBar:i,additional:l}=t,{progressBarColor:c,thumbSize:s="90px"}=r,[d,u]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=`\n        #${a} {\n            width: ${r?.width?.desktop||r.width};\n            height: calc(${r?.height?.desktop||r.height} + 100px);\n        }\n        .pop-up-content-wrap #${a} {\n            height: ${r?.height?.desktop||r.height};\n        }\n        #${a} .select {display: none}\n        #${a} .b3dviewer-wrapper {\n            height: ${r?.height?.desktop||r.height};\n        }\n\n        #${a} model-viewer {\n            background: ${r?.bgColor} ${r?.bgImage?`url(${r?.bgImage})`:" "} no-repeat center center; \n            background-size: cover;\n        }\n        #${a} model-viewer::part(default-progress-bar) {\n             display: ${i?"block":"none"}\n        }\n        @media screen and (max-width: 768px){\n            #${a} {\n                width: ${o?"":`${r?.width.tablet||r.width}`};\n                height: ${r?.height.tablet||r.height};\n            }\n        }\n        @media screen and (max-width: 480px){\n            #${a} {\n                width: ${o?"":`${r?.width.mobile||r.width}`};\n                height: ${r?.height.mobile||r.height};\n            }\n        }\n        #${a} model-viewer::part(default-progress-bar){\n            background: ${c};\n        }\n        #${a} .slides .slide{\n            width: ${s};\n            height: ${s};\n            padding: calc(${s} * 0.04);\n        }\n        #${a} .slide-number span{\n            font-size: calc(${s} * 0.8);\n        }\n        ${l?.CSS}\n    `.replaceAll(/\n?\s\s/g,"");u(e)}),[a,r,l,i]),React.createElement("style",null,d)},i=e=>{let{element:t}=e;return React.createElement("svg",{onClick:()=>{t&&t.requestFullscreen()},id:"openBtn",width:"24px",height:"24px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"#222",className:"bi bi-arrows-fullscreen"},React.createElement("path",{fillRule:"even",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"}))},l=()=>React.createElement("svg",{id:"closeBtn",onClick:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},className:"sidebar-open",width:"34px",height:"34px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{fill:"none",stroke:"#f2f2f2",strokeWidth:"2",d:"M7,7 L17,17 M7,17 L17,7"}));var c=r(448);const s=e=>{let{currentItem:t,setCurrentItem:r,models:n}=e;return a().createElement(a().Fragment,null,a().createElement("div",{className:"slideController"},a().createElement("svg",{fill:"#000000",onClick:()=>r(t>0?t-1:t),className:"arrow-left "+(t>0?"":"disabled"),width:"24px",height:"24px",viewBox:"-78.5 0 512 512",xmlns:"http://www.w3.org/2000/svg"},a().createElement("title",null,"left"),a().createElement("path",{d:"M257 64L291 98 128 262 291 426 257 460 61 262 257 64Z"})),a().createElement("svg",{onClick:()=>r(t<n.length-1?t+1:t),fill:"#000000",className:"arrow-right "+(t<n.length-1?"":"disabled"),width:"24px",height:"24px",viewBox:"-77 0 512 512",xmlns:"http://www.w3.org/2000/svg"},a().createElement("title",null,"right"),a().createElement("path",{d:"M98 460L64 426 227 262 64 98 98 64 294 262 98 460Z"}))))};var d=r(392),u=r(404),m=r(807),p=r(450),w=r(108),f=r(534),v=r(751);const g=e=>{let{attributes:t,currentItem:r,setCurrentItem:n,isPagination:o}=e;const{multiple:i,woo:l,models:c}=t;return a().createElement(a().Fragment,null,i&&!l&&o&&a().createElement("div",{className:"slider"},a().createElement("div",{className:"slides"},c.map(((e,t)=>a().createElement("button",{key:t,className:`slide ${t===r?"selected":""} ${e.poster?"":"slide-number"}`,"data-source":e?.modelUrl,"data-poster":e?.poster,onClick:()=>n(t)},e.poster?a().createElement("img",{src:e?.poster}):a().createElement("span",null,t+1)))))))};const h=e=>React.createElement("button",e),b=e=>{const{attributes:t,currentItem:r,setCurrentItem:a,modelSrc:o,setAttributes:i,__:l}=e,{styles:c,models:b,multiple:E,O3DVSettings:y}=t,{isNavigation:R,isPagination:S,camera:$,mouseControl:x}=y,[L,V]=(0,n.useState)(!1),C=(0,n.useRef)(null),k=(0,n.useRef)(null);return(0,n.useEffect)((()=>{if(o)if(k.current?.Destroy(),k.current?.canvas?.remove(),k.current=null,null===k.current){OV.SetExternalLibLocation("../libs");const e=$&&!E?{camera:new OV.Camera(new OV.Coord3D(...Object.values($.eye)),new OV.Coord3D(...Object.values($.center)),new OV.Coord3D(...Object.values($.up)),45)}:{};let t=new OV.EmbeddedViewer(C.current,{...e,backgroundColor:new OV.RGBAColor(255,255,255,255),edgeSettings:new OV.EdgeSettings(!1,new OV.RGBColor(0,0,0),1),environmentSettings:new OV.EnvironmentSettings([d.Z,u.Z,m.Z,p.Z,w.Z,f.Z],!1)});const r=[o];t.LoadModelFromUrlList(r),k.current=t,window.VR=t}else{k.current.LoadModelFromUrlList([o]);const e=new OV.Coord3D(0,0,0);k.current.viewer.SetCamera(new OV.Camera(new OV.Coord3D(0,0,1),e,new OV.Coord3D(0,1,0),45))}return()=>{if(null!==k.current&&null!==C.current&&L){delete k.current.model,k.current.viewer.renderer.resetState(),k.current.viewer.Clear(),k.current.viewer&&delete k.current.viewer;k.current.canvas.getContext("webgl2").getExtension("WEBGL_lose_context").loseContext();const e=k.current.canvas.cloneNode(!0);k.current.canvas.parentNode.replaceChild(e,k.current.canvas),C.current?.removeChild(C.current.children[0]),k.current.canvas?.parentNode?.removeChild(k.current.canvas),k.current.canvas.remove(),k.current=null,V(!1)}}}),[o]),(0,n.useEffect)((()=>{c.bgColor&&k.current?.viewer?.SetBackgroundColor((0,v.$W)(c.bgColor)),setTimeout((()=>{k.current?.viewer?.Resize(C.current.offsetWidth,C.current.offsetHeight)}),10),k.current.viewer.Render(),window.viewer=k.current}),[c,o]),(0,n.useEffect)((()=>{window.addEventListener("resize",(()=>{k.current?.viewer?.Resize(C.current?.offsetWidth,C.current?.offsetHeight)}))}),[]),React.createElement(React.Fragment,null,React.createElement("div",{ref:C,role:"img","aria-label":"Canvas showing the model in the 3D Viewer",className:`${x?"":"DMC"} ${k.current?.modelLoader?.inProgress} relative flex  flex-col items-center justify-center p-2 h-72 w-72 border-2 border-black rounded-sm online_3d_viewer`,style:{width:c.width.desktop||c.width,height:c.height.desktop||c.height}},React.createElement(g,{attributes:t,setCurrentItem:a,currentItem:r,isPagination:S}),E&&R&&b.length>1&&React.createElement(s,{currentItem:r,setCurrentItem:a,models:b}),i&&!E&&React.createElement("div",{className:"setDefaultViewContainer"},React.createElement(h,{variant:"primary",className:"setDefaultView button button-primary",onClick:()=>{if(k.current){const t=(e=k.current?.viewer?.GetCamera(),JSON.parse(JSON.stringify(e)));i({O3DVSettings:{...y,camera:t}})}var e}},l($?"Reset Default View":"Set Default View","model-viewer")),$&&React.createElement(React.Fragment,null,React.createElement(h,{variant:"primary",className:"setDefaultView button button-primary",onClick:()=>{k.current?.viewer.SetCamera(new OV.Camera(new OV.Coord3D(...Object.values($.eye)),new OV.Coord3D(...Object.values($.center)),new OV.Coord3D(...Object.values($.up)),45))}},l("See Default View","model-viewer")),React.createElement(h,{variant:"primary",className:"setDefaultView button button-primary",onClick:()=>i({O3DVSettings:{...y,camera:null}})},l("Remove Default View","model-viewer"))))))},E=e=>{let{attributes:t,__:r,setAttributes:a,viewerRef:d}=e;const[u,m]=(0,n.useState)(!1),{loadingPercentage:p=!1,uniqueId:w,model:f,models:v,fullscreen:g,variant:h,multiple:E,additional:y,exposure:R,selectedAnimation:S,animation:$,autoRotate:x,autoplay:L,rotateAlongX:V,align:C,woo:k,rotationPerSecond:A,preload:_,isPagination:O,isNavigation:q,zoom:N,currentViewer:D="modelViewer",O3DVSettings:I={},loading:j,texture:B={},environmentImage:T,zoomLevel:M=1}=t,{isFullscreen:F}=I,[Z,P]=(0,n.useState)(0),[W,z]=(0,n.useState)(E?v[Z]?.modelUrl:f?.modelUrl),H=(0,n.useRef)(),U=(0,n.useRef)();(0,n.useEffect)((()=>{z(E?v[Z]?.modelUrl:f?.modelUrl)}),[Z,E,v,f]),(0,n.useEffect)((()=>{try{new URL(W),m(!0)}catch(e){m(!1)}setTimeout((()=>{(0,c.Z)({animation:$,variant:h,wrapper:d.current?.parentElement})}),10)}),[w,f,v,E,W]),(0,n.useEffect)((()=>{L||d.current?.pause()}),[L]),(0,n.useEffect)((()=>{setTimeout((()=>{if(d.current&&U.current){d.current.animationName=S;U.current.querySelector("select").value=S}}),10)}),[S]),(0,n.useEffect)((()=>{H.current&&(H.current.style.display=h?"inline-block":"none")}),[h]),(0,n.useEffect)((()=>{U.current&&($&&d.current.loaded?U.current.style.display="inline-block":U.current.style.display="none")}),[$,U]),(0,n.useEffect)((()=>{d.current?.turntableRotation&&d.current.resetTurntableRotation()}),[V]),(0,n.useEffect)((()=>{setTimeout((()=>{const{mouseControl:e,autoplay:r,shadow:n,rotate:a,rotateAlongX:o,rotateAlongY:i,loading:l}=t;d.current&&(e?d.current.setAttribute("camera-controls",""):d.current.removeAttribute("camera-controls"),r?d.current.setAttribute("autoplay",""):d.current.removeAttribute("autoplay"),n?d.current.setAttribute("shadow-intensity","1"):d.current.removeAttribute("shadow-intensity"),n?d.current.setAttribute("shadow-softness","1"):d.current.removeAttribute("shadow-softness"),l?d.current.setAttribute("loading",l):d.current.removeAttribute("loading"),x?(d.current.setAttribute("auto-rotate",""),d.current.setAttribute("rotation-per-second",A+"deg")):d.current.removeAttribute("auto-rotate"),a?d.current.setAttribute("camera-orbit",`${o}deg ${i}deg 105%`):d.current.removeAttribute("camera-orbit"),d.current.setAttribute("reveal",_),d.current.dataset.animation=S,d.current.setAttribute("exposure",R),N?d.current.removeAttribute("disable-zoom"):d.current.setAttribute("disable-zoom",""),d.current?.addEventListener("load",(function(){d.current.setAttribute("scale",`${M} ${M} ${M}`)})),d.current?.loaded&&d.current.setAttribute("scale",`${M} ${M} ${M}`)),setTimeout((()=>{a?d.current?.setAttribute("camera-orbit",`${o}deg ${i}deg 105%`):d.current?.removeAttribute("camera-orbit")}),500)}),10)}),[w,t]),(0,n.useEffect)((()=>{if(k){const e=document.querySelector(".variations_form .variations select");if(e?.addEventListener("change",(function(e){const t=v.find((t=>t.product_variant===e.target.value))||v.find((e=>"all"===e.product_variant))||v?.[0];z(t.modelUrl)})),document.querySelectorAll(".variable-items-wrapper li")?.forEach((e=>e.addEventListener("click",(function(){const t=v.find((t=>t.product_variant===e.dataset?.value))||v.find((e=>"all"===e.product_variant))||v?.[0];z(t.modelUrl)})))),G.current){const e=document.querySelector(".wl-single-slider:not(.slick-cloned)");e&&!e.querySelector(".modelViewerBlock")&&(console.log("moved"),e.append(G.current.parentElement),G.current.parentElement.style.display="none",setTimeout((()=>{G.current.style.height=`calc(${getComputedStyle(G.current).height} - 100px)`,console.log(`calc(${getComputedStyle(G.current).height} - 100px)`)}),100)),document.querySelectorAll(".swatchly-swatch")?.forEach((t=>{function r(){e?.classList.add("bp3d_slick_model_container");const r=v.find((e=>e.product_variant===t.dataset?.attr_value))||v.find((e=>"all"===e.product_variant))||v?.[0];z(r.modelUrl),G.current.parentElement.style.display="block"}t.removeEventListener("click",r),t.addEventListener("click",r)}))}setTimeout((()=>{const e=document.querySelector(".select2-selection__rendered"),t=new MutationObserver((function(t){for(const r of t)if("childList"===r.type&&r.target===e){const t=v.find((t=>t.product_variant===e.innerText))||v.find((e=>"all"===e.product_variant))||v?.[0];z(t.modelUrl)}}));if(e){const r={childList:!0,subtree:!0};t.observe(e,r)}}),1e3)}}),[k]);const J=E?v[0]?.poster:f?.poster;(0,n.useEffect)((()=>{}),[f]);const G=(0,n.useRef)();return React.createElement("div",{ref:G,id:`${w}`,className:`modelViewerBlock b3dviewer align${C} ${k?"woocommerce":""} ${O&&E?"modelPagination":""}`},React.createElement("div",{id:y?.ID,className:`${y?.Class} b3dviewer-wrapper bp_model_parent `},React.createElement(o,{attributes:t}),W&&u&&React.createElement(React.Fragment,null,"modelViewer"===D?React.createElement("model-viewer",{loading:j||"auto","camera-controls":!0,ref:d,"data-js-focus-visible":!0,"data-decoder":E?v[0]?.decoder:f?.decoder,poster:J?.replace(/https?:/,window.location.protocol),src:W?.replace(/https?:/,window.location.protocol),alt:"A 3D model",scale:"1 1 1","environment-image":T,channel:B.type,texture:B.image},React.createElement("button",{type:"button",slot:"poster",id:"default-poster","aria-label":"A 3D model",style:{backgroundImage:` url("${J?.replace(/https?:/,window.location.protocol)}")`}}),p&&("lazy"===j||d.current)&&!d?.current?.loaded&&React.createElement("div",{className:"percentageWrapper"},React.createElement("div",{className:"overlay"}),React.createElement("span",{className:"percentage"},"0%")),React.createElement("div",{className:"variantWrapper select",ref:H},r("Variant","model-viewer")," ",React.createElement("select",{id:"variant"})),React.createElement("div",{className:"animationWrapper select",ref:U},r("Animations","model-viewer")," ",React.createElement("select",{id:"animations"})),E&&!k&&O&&React.createElement("div",{className:"slider"},React.createElement("div",{className:"slides"},v.map(((e,t)=>React.createElement("button",{key:t,className:`slide ${0===t?"selected":""} ${e.poster?"":"slide-number"}`,"data-source":e?.modelUrl,"data-poster":e?.poster,onClick:()=>P(t)},e.poster?React.createElement("img",{src:e?.poster}):React.createElement("span",null,t+1)))))),E&&q&&v.length>1&&React.createElement(s,{currentItem:Z,setCurrentItem:P,models:v})):React.createElement(React.Fragment,null,React.createElement(b,{__:r,setAttributes:a,modelSrc:W,currentItem:Z,setCurrentItem:P,model:W,attributes:t}))),""===W&&v[Z].poster&&React.createElement(React.Fragment,null,k&&v.length>1&&React.createElement(s,{currentItem:Z,setCurrentItem:P,models:v}),React.createElement("img",{src:v[Z].poster})),(g&&"modelViewer"===D||"O3DViewer"===D&&F)&&React.createElement(React.Fragment,null,React.createElement(i,{element:G.current?.querySelector(".bp_model_parent")}),React.createElement(l,null))),k&&O&&React.createElement("div",{className:"modelThumbs"},v.map(((e,t)=>React.createElement(React.Fragment,null,e.poster&&React.createElement("img",{className:"thumbsItem "+(t===Z?"selected":""),onClick:()=>P(t),src:e.poster}))))))}},448:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(467),a=r(751),o=r(502);window.addEventListener("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/3dModelViewer.default",(function(e,t){const r=e[0].querySelector(".b3dviewer-wrapper.elementor");modelRenderer({animation:!0,variant:!0,wrapper:r})}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".modelViewerBlock");setTimeout((()=>{Object.values(e).map((e=>{const t=e.querySelectorAll("model-viewer")||e.querySelectorAll(".online_3d_viewer"),r=e.querySelector(".progress");t.forEach((e=>{const t=new URL(e?.src||e?.getAttribute("src")||e?.getAttribute("model"));if("DIV"===e.tagName)console.log("Advanced viewer");else{t?.protocol!==location?.protocol&&e?.setAttribute("src",t.href.replace(t?.protocol,location?.protocol)),r&&(e?.addEventListener("progress",(e=>{r.innerHTML=parseInt(100*e.detail.totalProgress)+"%"})),e?.addEventListener("load",(()=>{setTimeout((()=>{r.style.display="none"}),500)}))),e.dataset.items="";const n=document.querySelector(".product-modal-wrap");if(n&&!n?.nextElementSibling?.classList?.contains("entry-summary")&&!n?.nextElementSibling?.classList?.contains("mkd-single-product-summary")){n.classList.add("model-full-width");const e=document.querySelector(".showcase-inner .product-information");if(e){const t=n.querySelector("model-viewer");t&&(t.style.height=e.offsetHeight+"px")}}}}))}))}),1e3)})),jQuery(document).ready((function(e){e(".bp3dmodel-carousel")?.[0]?.slick({slidesToShow:1,slidesToScroll:1,arrows:!0})}));var i=r(111);document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".b3dviewer-wrapper:not(.elementor)");Object.values(e).map((e=>{s({animation:!0,variant:!0,wrapper:e})})),document.querySelectorAll(".bp3dv-model-main")?.forEach((e=>{let t=e.dataset.selector;if(!t||""===t)return!1;let r=document.querySelector((0,i.JZ)(t)?`img[src="${t}"]`:t.includes("#")||t.includes(".")?t:`.${t}`);(0,i.JZ)(t)&&(r||(r=document.querySelector(`img[data-src="${t}"]`)),r||(r=document.querySelector(`img[data-src="${(0,i.op)(t)}"]`)),r||(r=document.querySelector(`img[src="${(0,i.op)(t)}"]`)),r||(r=document.querySelector(`a[href="${(0,i.op)(t)}"]`))),r?(r=(0,i.vx)(r),r?.innerHTML?.includes("<a")&&r.classList.add("bp3dv_a_popup_opener"),r?.innerHTML?.includes("<img")&&"reintest.be"===window.location.host&&r.classList.add("bp3dv_play_icon"),r?.addEventListener("click",(t=>{t.preventDefault(),e.classList.add("model-open")})),r.style.cursor="pointer",e.querySelector(".close-btn").addEventListener("click",(()=>e.classList.remove("model-open"))),e.querySelector(".bg-overlay").addEventListener("click",(()=>e.classList.remove("model-open")))):console.warn("clickable item is not found",t)}))}));const l=e=>{let{attributes:t}=e;if(t)return React.createElement(o.Z,{attributes:t,__:function(e){return e}})};window.addEventListener("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/3dModelViewer.default",(function(e,t){const r=e[0]?.querySelectorAll(".modelViewerBlock");r?.forEach((e=>{const t={...e.dataset}||{};setTimeout((()=>{Object.keys(e.dataset).map((t=>delete e.dataset[t]))}),10);const r=(0,a.o3)(t.attributes);if(r){const a=t.selector;if(a&&document.querySelector(a)&&(e=document.querySelector(a)).setAttribute("style",`width:${e.offsetWidth}px;height:350px`),!r?.currentViewer||"modelViewer"===r.currentViewer){e.setAttribute("data-rendered","true"),(0,n.render)(React.createElement(l,{attributes:r}),e);if(!document.getElementById("bp3d-model-viewer-js")){const e=document.createElement("script");e.type="module",e.id="bp3d-model-viewer-js",e.src=window.bp3dBlock?.modelViewerSrc,document.head.appendChild(e)}}if("O3DViewer"===r.currentViewer)if("undefined"==typeof OV){const t=document.getElementById("bp3d-o3dviewer-js");if(t)t.addEventListener("load",(()=>{(0,n.render)(React.createElement(l,{attributes:r}),e)}));else{const t=document.createElement("script");t.id="bp3d-o3dviewer-js",t.src=window.bp3dBlock?.o3dviewerSrc,document.head.appendChild(t),t.addEventListener("load",(()=>{(0,n.render)(React.createElement(l,{attributes:r}),e)}))}}else(0,n.render)(React.createElement(l,{attributes:r}),e)}}))}))}));const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e?.parentElement){n&&(e.parentElement.style.display="inline-block"),e.innerHTML="",!t.length&&e.parentElement&&(window.location.href.includes("wp-admin")?t[0]="not available":e.parentElement.style.display="none");for(const n of t){const t=document.createElement("option");t.value=n,t.textContent=n,e.appendChild(t),n===r&&(t.selected=!0)}}};function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{animation:t=!1,variant:r=!1,wrapper:n}=e;if(!n)return;const a=n.querySelector("model-viewer");if(!a)return!1;if(a.src)try{const e=new URL(a.src);e?.protocol!==window.location.protocol&&(a.src=e.href.replace(e.protocol,window.location.protocol))}catch(e){console.warn(e.message,a.src)}const o=a.dataset.animation,i=n.querySelector("#variant"),l=n.querySelector("#animations"),s=n.querySelector(".percentageWrapper"),d=s?.querySelector(".percentage");"interaction"===a.reveal&&s&&(s.style.display="none"),a.addEventListener("load",(()=>{c(i,a.availableVariants,"",r),c(l,a.availableAnimations,o,t),a.animationName=o,setTimeout((()=>{s&&(s.style.display="none")}),100)})),d&&a.addEventListener("progress",(e=>{s.style.display="block",d.innerHTML=parseInt(100*e.detail.totalProgress)+"%"})),i&&i.addEventListener("input",(e=>{a.variantName=e.target.value})),l&&l.addEventListener("input",(e=>{a.animationName=e.target.value}));const u=n.querySelectorAll(".slide");for(const e of u)e.addEventListener("click",(t=>{t.preventDefault(),a.src=e?.dataset?.source,a.poster=e?.dataset?.poster,u.forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected"),i&&(i.innerHTML="")}));document.querySelector(".slider")?.addEventListener("beforexrselect",(e=>{e.preventDefault()}))}window.modelRenderer=s;const d=s},111:(e,t,r)=>{function n(e){return e.replace(/-\d{2,4}x\d{2,4}/g,"")}function a(e){return/\.(jpg|jpeg|png|gif|bmp|svg|webp)$/i.test(e)}function o(e){let t=e.parentElement;for(;t&&1===t.children.length;)e=t,t=t.parentElement;return e}function i(e){let t=e.parentElement;for(;t&&"A"===t.tagName;)e=t,t=t.parentElement;return e}r.d(t,{AV:()=>i,JZ:()=>a,op:()=>n,vx:()=>o})},751:(e,t,r)=>{r.d(t,{$W:()=>n,o3:()=>a});r(174);const n=function(e){if("transparent"===e)return{r:255,g:255,b:255,a:0};if(e.includes("rgba")){const t=e.match(/rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)/);if(t){const[,e,r,n,a=1]=t.map(Number);return{r:e,g:r,b:n,a}}return null}var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e.replace("#",""));return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)?parseInt(t[4],16):0===parseInt(t[4],16)?0:255}:null},a=e=>{let t=null;try{t=JSON.parse(e)}catch(e){console.warn(e.message)}return t}},450:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/negx.jpg"},108:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/negy.jpg"},534:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/negz.jpg"},392:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/posx.jpg"},404:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/posy.jpg"},807:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"public/images/envmaps/fishermans_bastion/posz.jpg"},646:(e,t,r)=>{var n=r(467);t.s=n.createRoot,n.hydrateRoot},174:e=>{e.exports=React},467:e=>{e.exports=ReactDOM}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e=r(646),t=r(751),n=r(502),a=r(174),o=r(111);const i=e=>{let{attributes:t}=e;const r=(0,a.useRef)();if(t)return React.createElement(n.Z,{attributes:t,__:function(e){return e},viewerRef:r})};document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".modelViewerBlock");window.domRendered||(window.domRendered=!0,e.forEach((e=>{const r={...e.dataset}||{};setTimeout((()=>{Object.keys(e.dataset).map((t=>delete e.dataset[t]))}),10);const n=(0,t.o3)(r.attributes);if(n){const t=r.selector,a=r.position,o=r.uniqueClass,i=r.type,{isPagination:c,styles:s}=n;if(""==t)return;const d=document.createElement("div");if(t&&document.querySelector(t)&&(Object.keys(e.dataset).map((t=>delete e.dataset[t])),e=document.querySelector(t)),!n?.currentViewer||"modelViewer"===n.currentViewer){e.setAttribute("data-rendered","true"),d.classList.add("woocommerce-product-model-viewer-wrapper"),d.classList.add(`position_${a}`),e.classList.add(`product_${o}`),l({div:d,dom:e,position:a,styles:s,isPagination:c,attributes:n,type:i});if(!document.getElementById("bp3d-model-viewer-js")){const e=document.createElement("script");e.type="module",e.id="bp3d-model-viewer-js",e.src=window.bp3dBlock?.modelViewerSrc,document.head.appendChild(e)}}if("O3DViewer"===n.currentViewer){const t=document.getElementById("bp3d-o3dviewer-js");if(t)t.addEventListener("load",(()=>{l({div:d,dom:e,position:a,styles:s,isPagination:c,attributes:n,type:i})}));else{const t=document.createElement("script");t.id="bp3d-o3dviewer-js",t.src=window.bp3dBlock?.o3dviewerSrc,document.head.appendChild(t),t.addEventListener("load",(()=>{l({div:d,dom:e,position:a,styles:s,isPagination:c,attributes:n,type:i})}))}}}})))}));const l=t=>{let{div:r,dom:n,position:a,styles:l,attributes:c,isPagination:s,type:d}=t;if("bottom"===a)setTimeout((()=>{n.appendChild(r),n=r,n.setAttribute("style",`width:${n.offsetWidth>0?n.offsetWidth+"px":"100%"};height:calc(${l.height} + ${s?"100px":"0px"})`);(0,e.s)(n).render(React.createElement(i,{attributes:c}),n)}),100);else if("top"===a)n.insertBefore(r,n.firstChild),n=r,setTimeout((()=>{n.setAttribute("style",`width:${n.offsetWidth>0?n.offsetWidth+"px":"100%"};height:calc(${l.height} + ${s?"100px":"0px"})`);(0,e.s)(n).render(React.createElement(i,{attributes:c}),n)}),100);else{n.setAttribute("style",`width:${n.offsetWidth>0?n.offsetWidth+"px":"100%"};height:calc(${l.height} + ${s&&"popup"!==d?"100px":"0px"})`);(0,e.s)(n).render(React.createElement(i,{attributes:c}),n)}if(n.classList.contains("productListItem")){const e=n.nextElementSibling?.offsetHeight;if(e){n.style.height=e+"px",n.nextElementSibling.style.display="none";const t=setTimeout((()=>{if(n.querySelector(".modelViewerBlock")){clearInterval(t),n.querySelector(".modelViewerBlock").style.height=e+"px",n.querySelector(".bp_model_parent").setAttribute("style",`height:${e+"px"};min-width: 100%`);(0,o.AV)(n).addEventListener("click",(function(e){"openBtn"!==e.target.id&&"closeBtn"!==e.target.id&&"MODEL-VIEWER"!==e.target.tagName||e.preventDefault()}))}}),500)}}}})()})();
//# sourceMappingURL=3d-viewer-frontend.js.map